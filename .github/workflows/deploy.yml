# 워크플로우의 이름
name: Deploy to GitHub Pages

# 언제 이 워크플로우를 실행할 것인지 정의
on:
    # main 브랜치에 push 이벤트가 발생했을 때 실행
    push:
        branches:
            - main
    # GitHub Actions 탭에서 수동으로 실행할 수도 있도록 설정
    workflow_dispatch:

# 이 워크플로우가 실행할 작업(job)들
jobs:
    # 'deploy' 라는 이름의 작업
    deploy:
        # 작업이 실행될 환경
        runs-on: ubuntu-latest
        # 작업에 필요한 권한 설정
        permissions:
            contents: read
            pages: write
            id-token: write
        # 실제 수행할 단계(step)들
        steps:
            # 1. 저장소의 코드를 runner로 가져옴 (체크아웃)
            - name: Checkout
              uses: actions/checkout@v4
            # 2. GitHub Pages를 위한 아티팩트(배포 파일 묶음) 업로드
            - name: Upload artifact
              uses: actions/upload-pages-artifact@v3
              with:
                  path: "." # '.'는 현재 폴더(프로젝트 전체)를 의미합니다.
            # 3. 아티팩트를 GitHub Pages에 배포
            - name: Deploy to GitHub Pages
              uses: actions/deploy-pages@v4
